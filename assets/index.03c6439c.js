(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))h(u);new MutationObserver(u=>{for(const y of u)if(y.type==="childList")for(const r of y.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&h(r)}).observe(document,{childList:!0,subtree:!0});function s(u){const y={};return u.integrity&&(y.integrity=u.integrity),u.referrerpolicy&&(y.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?y.credentials="include":u.crossorigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function h(u){if(u.ep)return;u.ep=!0;const y=s(u);fetch(u.href,y)}})();var T=function(e,t,s,h,u){if(!u){var y=[];u=function(v,A){y.push({x:v,y:A})}}var r=s-e,l=h-t,o=Math.abs(r),x=Math.abs(l),p=0,n=r>0?1:-1,i=l>0?1:-1;if(o>x)for(var a=e,f=t;n<0?a>=s:a<=s;a+=n)u(a,f),p+=x,p<<1>=o&&(f+=i,p-=o);else for(var a=e,f=t;i<0?f>=h:f<=h;f+=i)u(a,f),p+=o,p<<1>=x&&(a+=n,p-=x);return y};let M=Math.floor(window.innerWidth/3.05),g=Math.floor(window.innerHeight/3.85);const S=[],I=60,E=1/I;let X=!1,m=!1,Y=300,d=2,D=500,L=[],c=100,P=c*.75,w=300,b=20,R=25,V=7.5,H=1,K=5,N=30;function W(){for(let e=0;e<D;e++)L.push({x:Math.random()*M,y:Math.random()*g,vx:Math.random()-.5,vy:Math.random()-.5});for(let e=0;e<g;e++)S[e]=new Array(M).fill(0);window.addEventListener("keydown",e=>{e.preventDefault(),e.code=="KeyP"&&(X=!X),e.code=="Space"&&L.forEach(t=>{t.vx=Math.random()-.5,t.vy=Math.random()-.5}),e.code=="KeyR"&&(Y=300,m=!m,c=m?75:100,P=c*.75)})}function q(e,t){t>=0&&~~t<g&&e>=0&&~~e<M&&(S[~~t][~~e]=1)}function F(e,t,s){let h=e*Math.cos(s)-t*Math.sin(s),u=e*Math.sin(s)+t*Math.cos(s);return[h,u]}function j(e,t,s,h){let u=Math.atan2(h,s)+Math.PI/2,[y,r]=F(0,-d,u);r+=t,y+=e;let[l,o]=F(d,d,u);l+=e,o+=t;let[x,p]=F(-d,d,u);x+=e,p+=t,T(y,r,l,o,q),T(l,o,x,p,q),T(x,p,y,r,q)}function k(){let e="";Y--;for(let t=0;t<g;t++){m&&Y<0?e+="<span style='color: hsl("+t*2+", 100%, 50%)'>":e+="<span>";for(let s=0;s<M;s++)e+=S[t][s]>0?"@":" ",S[t][s]=0;e+="</span><br>"}document.querySelector("#app").innerHTML="<pre><tt>"+e+"</tt></pre>"}function z(e){if(!X){for(let t=0;t<D;t++){let s=L[t];s.x+=s.vx*e,s.y+=s.vy*e;let h=0,u=0,y=0,r=0,l=0,o=0,x=0;for(let n=0;n<D;n++){let i=L[n],a=i.x-s.x,f=i.y-s.y,v=Math.sqrt(a*a+f*f);v>0&&v<R&&(v<V&&(y+=s.x-i.x,r+=s.y-i.y),h+=i.x,u+=i.y,l+=i.vx,o+=i.vy,x++)}if(x>0&&(h/=x,u/=x,l/=x,o/=x,s.vx+=(h-s.x)*(H*e),s.vy+=(u-s.y)*(H*e),s.vx+=(l-s.vx)*(K*e),s.vy+=(o-s.vy)*(K*e)),s.vx+=y*N*e,s.vy+=r*N*e,m){let n=~~(t/4.2);n<O.length&&(s.vx+=O[n].x-s.x,s.vy+=O[n].y-s.y)}const p=Math.sqrt(s.vx*s.vx+s.vy*s.vy);p>c&&(s.vx=s.vx/p*c,s.vy=s.vy/p*c),p<P&&(s.vx=s.vx/p*P,s.vy=s.vy/p*P),s.x>M-b?s.vx-=w*e:s.x<b&&(s.vx+=w*e),s.y>g-b?s.vy-=w*e:s.y<b&&(s.vy+=w*e),j(s.x,s.y,s.vx,s.vy)}k()}}const O=B();W();for(;;){let e=performance.now();z(E);let t=performance.now()-e,s=E*1e3-t;await new Promise(h=>setTimeout(h,s>0?s:0))}function B(){let e=[];return e.push({x:20,y:20}),e.push({x:20,y:30}),e.push({x:20,y:40}),e.push({x:20,y:50}),e.push({x:20,y:60}),e.push({x:20,y:70}),e.push({x:20,y:80}),e.push({x:20,y:90}),e.push({x:20,y:100}),e.push({x:20,y:110}),e.push({x:20,y:120}),e.push({x:20,y:130}),e.push({x:20,y:140}),e.push({x:20,y:150}),e.push({x:20,y:160}),e.push({x:30,y:20}),e.push({x:40,y:20}),e.push({x:50,y:20}),e.push({x:60,y:20}),e.push({x:70,y:22}),e.push({x:80,y:25}),e.push({x:88,y:30}),e.push({x:95,y:35}),e.push({x:100,y:42}),e.push({x:103,y:50}),e.push({x:105,y:60}),e.push({x:103,y:70}),e.push({x:95,y:78}),e.push({x:85,y:83}),e.push({x:75,y:84}),e.push({x:65,y:85}),e.push({x:55,y:85}),e.push({x:45,y:85}),e.push({x:35,y:85}),e.push({x:25,y:85}),e.push({x:34,y:95}),e.push({x:43,y:105}),e.push({x:52,y:115}),e.push({x:61,y:125}),e.push({x:70,y:135}),e.push({x:79,y:145}),e.push({x:88,y:160}),e.push({x:150,y:20}),e.push({x:150,y:30}),e.push({x:150,y:40}),e.push({x:150,y:50}),e.push({x:150,y:60}),e.push({x:150,y:70}),e.push({x:150,y:80}),e.push({x:150,y:90}),e.push({x:150,y:100}),e.push({x:150,y:110}),e.push({x:150,y:120}),e.push({x:150,y:130}),e.push({x:150,y:140}),e.push({x:150,y:150}),e.push({x:150,y:160}),e.push({x:160,y:20}),e.push({x:170,y:20}),e.push({x:180,y:20}),e.push({x:190,y:20}),e.push({x:200,y:20}),e.push({x:210,y:20}),e.push({x:220,y:20}),e.push({x:230,y:20}),e.push({x:160,y:90}),e.push({x:170,y:90}),e.push({x:180,y:90}),e.push({x:190,y:90}),e.push({x:200,y:90}),e.push({x:210,y:90}),e.push({x:220,y:90}),e.push({x:230,y:90}),e.push({x:160,y:160}),e.push({x:170,y:160}),e.push({x:180,y:160}),e.push({x:190,y:160}),e.push({x:200,y:160}),e.push({x:210,y:160}),e.push({x:220,y:160}),e.push({x:230,y:160}),e.push({x:280,y:20}),e.push({x:280,y:30}),e.push({x:280,y:40}),e.push({x:280,y:50}),e.push({x:280,y:60}),e.push({x:280,y:70}),e.push({x:280,y:80}),e.push({x:280,y:90}),e.push({x:280,y:100}),e.push({x:280,y:110}),e.push({x:280,y:120}),e.push({x:280,y:130}),e.push({x:280,y:140}),e.push({x:280,y:150}),e.push({x:280,y:160}),e.push({x:290,y:20}),e.push({x:300,y:20}),e.push({x:310,y:20}),e.push({x:320,y:20}),e.push({x:330,y:20}),e.push({x:340,y:20}),e.push({x:350,y:20}),e.push({x:360,y:20}),e.push({x:290,y:90}),e.push({x:300,y:90}),e.push({x:310,y:90}),e.push({x:320,y:90}),e.push({x:330,y:90}),e.push({x:340,y:90}),e.push({x:350,y:90}),e.push({x:360,y:90}),e.push({x:290,y:160}),e.push({x:300,y:160}),e.push({x:310,y:160}),e.push({x:320,y:160}),e.push({x:330,y:160}),e.push({x:340,y:160}),e.push({x:350,y:160}),e.push({x:360,y:160}),e}
